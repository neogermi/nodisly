<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
$(function () {
    $('#submit').click(function () {
        var url = $('#url').attr("disabled", "disabled").val();
        var id = $('#surl').attr("disabled", "disabled").val();
        if (url && url.length > 0) {
            $.ajax({
                type: 'POST',
                url: "http://127.0.0.1:3000/",
                data: {
                    url : url,
                    id : id ? id : undefined,
                },
                success: function (res) {
                    $('#surl').val(res.id);
                },
                error: function () {
                    $('#surl').css("border-color", "red");
                },
                dataType: "json"
              });
        } else {
            
        }
    });
});
</script>
</head>
<body onload="document.getElementById('url').focus();">
  <b>Enter a long URL to make it <a href="http://127.0.0.1:3000/">tiny</a>:</b><br />
  <input id="url" type="url" name="url" size="100"> <input id="submit" type="submit" name="submit" value="Shorten!"><br />
  Custom alias (optional):<br />
  http://127.0.0.1:3000/<input id="surl" type="text" name="url" size="10"><br />
  May contain letters, numbers, and dashes.<br />
</body></html>